<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://1958818905.github.io</id>
    <title>Gridea</title>
    <updated>2020-09-07T12:05:00.132Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://1958818905.github.io"/>
    <link rel="self" href="https://1958818905.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://1958818905.github.io/images/avatar.png</logo>
    <icon>https://1958818905.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, Gridea</rights>
    <entry>
        <title type="html"><![CDATA[SpringBootæ³¨è§£]]></title>
        <id>https://1958818905.github.io/post/ce-shi/</id>
        <link href="https://1958818905.github.io/post/ce-shi/">
        </link>
        <updated>2020-09-07T06:45:13.000Z</updated>
        <content type="html"><![CDATA[<h3 id="springbootæ³¨è§£çš„ä¼˜ç¼ºç‚¹">SpringBootæ³¨è§£çš„ä¼˜ç¼ºç‚¹</h3>
<ol>
<li>ä¼˜ç‚¹
<ul>
<li>å¿«é€Ÿæ„å»ºé¡¹ç›®ã€‚</li>
<li>å¯¹ä¸»æµå¼€å‘æ¡†æ¶çš„æ— é…ç½®é›†æˆã€‚</li>
<li>é¡¹ç›®å¯ç‹¬ç«‹è¿è¡Œï¼Œæ— é¡»å¤–éƒ¨ä¾èµ–Servletå®¹å™¨ã€‚</li>
<li>æä¾›è¿è¡Œæ—¶çš„åº”ç”¨ç›‘æ§ã€‚</li>
<li>æå¤§çš„æé«˜äº†å¼€å‘ã€éƒ¨ç½²æ•ˆç‡ã€‚</li>
<li>ä¸äº‘è®¡ç®—çš„å¤©ç„¶é›†æˆã€‚</li>
</ul>
</li>
<li>ç¼ºç‚¹ï¼š
<ul>
<li>ç‰ˆæœ¬è¿­ä»£é€Ÿåº¦å¾ˆå¿«ï¼Œä¸€äº›æ¨¡å—æ”¹åŠ¨å¾ˆå¤§</li>
<li>ç”±äºä¸ç”¨è‡ªå·±åšé…ç½®ï¼ŒæŠ¥é”™æ—¶å¾ˆéš¾å®šä½</li>
<li>ç½‘ä¸Šç°æˆçš„è§£å†³æ–¹æ¡ˆæ¯”è¾ƒå°‘</li>
</ul>
</li>
</ol>
<h3 id="æ³¨è§£">æ³¨è§£</h3>
<ol>
<li>SpringBootApplication â€“ ä¸»é…ç½®ç±»
<ul>
<li>æ•ˆæœï¼šè¯´æ˜è¿™ä¸ªç±»å°±æ˜¯SpringBootçš„ä¸»é…ç½®ç±»ï¼ŒSpringBootå°±åº”è¯¥è¿è¡Œä¸»é…ç½®ç±»çš„mainæ–¹æ³•æ‰§è¡Œç¨‹åºã€‚</li>
</ul>
</li>
</ol>
<pre><code class="language-java">@SpringBootApplication
public class SpringBootMaven {
  public static void main(String[] args) {
      SpringApplication.run(SpringBootMaven.class, args);
  }
}
</code></pre>
<ul>
<li>ç»§æ‰¿@SpringBootConfigurationã€@EnableAutoConfigurationã€@ComponentScan</li>
<li>@SpringBootConfigurationï¼šç»§æ‰¿@Configurationï¼ŒSpringé…ç½®æ³¨è§£ï¼Œå°†å½“å‰ç±»å£°æ˜çš„ä¸€ä¸ªæˆ–å¤šä¸ª@Beanæ³¨è§£æ ‡è®°çš„æ–¹æ³•çº³å…¥Springå®¹å™¨ï¼Œå®ä¾‹åå°±æ˜¯æ–¹æ³•å.</li>
<li>@EnableAutoConfigurationï¼šç»§æ‰¿@AutoConfigurationPackageï¼Œ<br>
å¯¼å…¥äº†AutoConfigurationImportSelector.class AutoConfigurationPackages.Registrar.classæ ¹æ®æ·»åŠ çš„jaråŒ…æ¥é…ç½®é¡¹ç›®çš„é»˜è®¤é…ç½®ã€‚</li>
<li>@ComponentScanï¼šæ‰«æå½“å‰åŒ…åŠå…¶å­åŒ…ä¸‹è¢«@Componentï¼Œ@Controllerï¼Œ@Serviceï¼Œ</li>
<li>@Repositoryæ³¨è§£æ ‡è®°çš„ç±»å¹¶çº³å…¥åˆ°springå®¹å™¨ä¸­è¿›è¡Œç®¡ç†</li>
</ul>
<ol start="2">
<li>EnableAutoConfiguration -è‡ªåŠ¨è£…é…</li>
</ol>
<ul>
<li>æ•ˆæœï¼šå€ŸåŠ©AutoConfigurationImportSelector.classï¼Œä¸ºSpringBootåº”ç”¨å°†æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„@Configurationé…ç½®éƒ½åŠ è½½åˆ°å½“å‰SpringBootåˆ›å»ºå¹¶ä½¿ç”¨çš„IoCå®¹å™¨</li>
</ul>
<pre><code class="language-java">@AutoConfigurationPackage
@Import(AutoConfigurationImportSelector.class)
</code></pre>
<ol start="3">
<li>@RestController â€“ æ§åˆ¶å™¨</li>
</ol>
<ul>
<li>@RestController == @ResponseBody + @Controller</li>
<li>@ResponseBodyï¼šæ ‡è®°åœ¨ç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸‹æ‰€æœ‰æ–¹æ³•è¿”å›ä¸€æ¡è¯­å¥ç»™ç½‘ç«™ï¼Œ@Controllerï¼šæ ‡è®°å½“å‰ç±»ä¸ºæ§åˆ¶å™¨.</li>
</ul>
<pre><code>@RestController
public class SpringbootiniApplication {
    @RequestMapping(&quot;/&quot;)
    String hello(){
        return &quot;hello world quick&quot;;
    }
}
</code></pre>
<ol start="4">
<li>@ConfigurationProperties â€“ é…ç½®å±æ€§ç»‘å®š</li>
</ol>
<ul>
<li>æŠŠå…¨å±€/ä¸»é…yml/propertiesçš„é…ç½®ä¿¡æ¯æ³¨å…¥åˆ°POJOï¼ˆå…¨å±€ &gt; application.yml/propertiesï¼‰</li>
<li>éœ€è¦æŠŠå½“å‰ç±»æ ‡è®°ä¸ºç»„ä»¶ï¼ˆ@Componentï¼‰ï¼Œæ·»åŠ å±æ€§prefix = â€œxxâ€ï¼Œxxä¸ºymlé‡Œçš„key</li>
</ul>
<pre><code>@Component
@ConfigurationProperties(prefix = &quot;person&quot;)
public class Person {
    int age;
    String name;
    public int getAge() {
        return age;
    }
    public void setAge(int age) {
        this.age = age;
    }
}

</code></pre>
<ul>
<li>è€Œä¸”æ ¹æ®SpringBootæ–‡æ¡£ï¼Œè¿˜éœ€è¦æ·»åŠ ä¾èµ–å¤„ç†å™¨</li>
</ul>
<pre><code>&lt;!-- ymlä¾èµ–å¤„ç†å™¨ --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;
    &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>ç„¶åé‡æ–°å¯åŠ¨springboot</li>
</ul>
<ol start="5">
<li>@PropertySource â€“ å¼•å…¥SpringBooté…ç½®</li>
</ol>
<ul>
<li>å½“@ConfigurationPropertieséœ€è¦ä»å‰¯é…ç½®æ–‡ä»¶æ‹¿æ•°æ®æ—¶ï¼Œå¯ç”¨@PropertySourceæ‰‹åŠ¨å¼•å…¥å‰¯é…ç½®ï¼Œvalueå¯æŒ‡å®šå¤šä¸ªè·¯å¾„</li>
</ul>
<pre><code>@Component
@ConfigurationProperties(prefix = &quot;person&quot;)
@PropertySource(value = {&quot;classpath:person.properties&quot;})
public class Person {
    int age;
    String name;
    public int getAge() {
        return age;
    }
    public void setAge(int age) {
        this.age = age;
    }
}
</code></pre>
<ul>
<li>ç›¸åŒkeyä¼˜å…ˆçº§ï¼šå…¨å±€é…ç½® &gt; å‰¯é…ç½®</li>
<li>ä¸Šé¢ç”¨person.propertiesè€Œä¸ç”¨person.ymlä¸æ˜¯æ²¡æœ‰åŸå› çš„ï¼Œymlé™¤äº†ä¸»é…ï¼Œå…¶ä»–é…ç½®ä¸ç”Ÿæ•ˆ</li>
</ul>
<ol start="6">
<li>@ImportSource â€“ å¼•å…¥Springé…ç½®@ImportSource â€“ å¼•å…¥Springé…ç½®</li>
</ol>
<ul>
<li>åœ¨SpringBootä¸­ï¼Œå¼•å…¥bean.xmlï¼ˆSpringé…ç½®æ–‡ä»¶ï¼‰ï¼Œéœ€è¦åœ¨ä¸»ç±»é…ç½®è¯¥æ³¨è§£ï¼Œå¯å¯¼å…¥å¤šä¸ªé…ç½®æ–‡ä»¶</li>
</ul>
<pre><code>@SpringBootApplication
@ImportResource(locations = {&quot;classpath:bean.xml&quot;})
public class SpringbootiniApplication {
    public static void main(String[] args) {
        SpringApplication.run(SpringbootiniApplication.class, args);
    }
}
</code></pre>
<ol start="7">
<li>@Configuration â€“ æ³¨è§£ä»£æ›¿Springé…ç½®</li>
</ol>
<ul>
<li>Springæ³¨è§£ï¼Œæ ‡è®°ç±»åå½“å‰ç±»æˆé…ç½®ç±»ï¼Œå½“å‰ç±»çš„@Beanæ³¨è§£å³</li>
<li>applicationContext.xml == @Configuration + @Bean + @ComponentScaâ€¦</li>
<li>SpringBootæ¨è =&gt; æ³¨è§£ä»£æ›¿é…ç½®æ–‡ä»¶</li>
</ul>
<pre><code>@Configuration
public class MyAppConfig {
    @Bean
    public Student student(){
        System.out.println(&quot;@bean is ok&quot;);
        return new Student();
    }
}
class Student{}
</code></pre>
<ul>
<li>@Beanï¼šå°†æ–¹æ³•è¿”å›å€¼æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼›å®¹å™¨ä¸­è¿™ä¸ªç»„ä»¶é»˜è®¤idå°±æ˜¯æ–¹æ³•å</li>
</ul>
<ol start="8">
<li>@ResponseBody â€“ æ–‡æœ¬è¿”å›</li>
</ol>
<ul>
<li>æ ‡æ³¨æ–¹æ³•ä¸Šï¼Œå¦‚æœä½ æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼å˜æ–‡æœ¬æ ¼å¼è¾“å‡ºï¼Œè‹¥æ²¡æœ‰æ ‡æ³¨ï¼Œåˆ™åˆ†å‘å™¨ä¼šèµ°è§†å›¾è§£æå™¨ï¼Œç„¶åæŠ¥é”™è¯´/templateä¸‹æ‰¾ä¸åˆ°è§†å›¾ï¼Œå¦‚æœä½ åªæ˜¯ajaxå¼‚æ­¥å›æ¥å¤„ç†æ•°æ®å­˜å‚¨ï¼Œä¸éœ€è¦è¿”å›é¡µé¢åˆ™æ— éœ€æ ‡æ³¨</li>
</ul>
<pre><code>@RequestMapping(&quot;/login&quot;)
ã€€ã€€@ResponseBody
ã€€ã€€public User login(User user){
ã€€ã€€ã€€ã€€return user;
ã€€ã€€}
ã€€ã€€Userå­—æ®µï¼šuserName pwd
ã€€ã€€é‚£ä¹ˆåœ¨å‰å°æ¥æ”¶åˆ°çš„æ•°æ®ä¸ºï¼šâ€™{â€œuserNameâ€:â€œxxxâ€,â€œpwdâ€:â€œxxxâ€}â€™
</code></pre>
<ol start="9">
<li>@Transactional â€“ äº‹åŠ¡</li>
</ol>
<ul>
<li>å¦‚ä¸‹æœ‰ä¸€ä¸ªä¿å­˜ç”¨æˆ·çš„æ–¹æ³•ï¼ŒåŠ å…¥ @Transactional æ³¨è§£ï¼Œä½¿ç”¨é»˜è®¤é…ç½®ï¼ŒæŠ›å‡ºå¼‚å¸¸ä¹‹åï¼Œäº‹åŠ¡ä¼šè‡ªåŠ¨å›æ»šï¼Œæ•°æ®ä¸ä¼šæ’å…¥åˆ°æ•°æ®åº“ã€‚</li>
</ul>
<pre><code>@Transactional
public void save() {
    User user = new User(&quot;æœéƒ¨åŠè—&quot;);
    userMapper.insertSelective(user);

    if (true) {
        throw new RuntimeException(&quot;save æŠ›å¼‚å¸¸äº†&quot;);
    }
}
</code></pre>
<ol start="10">
<li>@Param â€“ ç»‘å®šELå’Œå‚æ•°</li>
</ol>
<ul>
<li>mybatisæç¤ºç±»å‹ç»‘å®šé—®é¢˜</li>
</ul>
<pre><code>@Select(&quot;select * from myuser where loginname=#{loginname} and password=#{password}&quot;)
User findWithLoginnameAndPassword(@Param(&quot;loginname&quot;)int loginname,
                                  @Param(&quot;password&quot;)String password);
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://1958818905.github.io/post/hello-gridea/</id>
        <link href="https://1958818905.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>